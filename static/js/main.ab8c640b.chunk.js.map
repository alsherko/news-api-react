{"version":3,"sources":["constants/index.js","context/ArticleContext.js","components/header/Search.js","components/header/Header.js","components/Toolbar.js","components/articles/Article.js","components/articles/ArticleList.js","components/Pagination.js","components/Loader.js","container/ArticleContainer.js","components/sources/Source.js","components/sources/SourceList.js","container/SourceContainer.js","components/Footer.js","components/App.js","index.js"],"names":["API","API_KEY","process","ArticleContext","React","createContext","ArticleProvider","props","useState","searchValue","setSearchValue","searchInArticles","setSearchInArticles","searchInSources","setSearchInSources","source","setSource","language","setLanguage","sortBy","setSortBy","page","setPage","lastPage","setLastPage","isLoading","setIsLoading","hasErrored","setHasErrored","errorMessage","setErrorMessage","articles","setArticles","prevState","value","ref","useRef","useEffect","current","usePrevious","undefined","prevSearchInArticles","prevSearchInSources","prevSearchValue","fetchArticle","url","a","fetch","articleData","json","status","totalResults","message","Math","ceil","endpoint","trim","URL","params","q","sources","apiKey","pageSize","Object","keys","forEach","key","searchParams","append","Provider","children","Search","Consumer","useContext","searchInputRef","timer","className","role","onSubmit","event","preventDefault","clearTimeout","htmlFor","type","placeholder","onChange","target","setTimeout","Header","currentDate","Date","toLocaleDateString","dateTime","Toolbar","appContext","checked","name","text","map","item","Article","article","date","publishedAt","href","title","description","author","toLocaleString","content","urlToImage","src","alt","ArticleList","Pagination","scrollToTop","min","max","onClick","parseInt","window","scrollTo","disabled","Loader","ArticleContainer","Source","id","category","e","SourceList","SourceContainer","setSources","searchResults","setSearchResults","sourceIsLoading","setSourceIsLoading","sourceHasErrored","setSourceHasErrored","sourceErrorMessage","setSourceErrorMessage","sourcesData","length","fetchSources","filter","indexOf","onSearchSources","sourcesList","slice","Footer","App","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.ab8c640b.chunk.js","sourcesContent":["const API = 'https://newsapi.org/v2/'\r\nconst API_KEY = process.env.REACT_APP_API_KEY\r\nconst PAGE_SIZE = 10\r\nconst WAIT_INTERVAL = 1000\r\n\r\nexport { API, API_KEY, PAGE_SIZE, WAIT_INTERVAL }\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { API, API_KEY, PAGE_SIZE } from '../constants'\r\n\r\nconst ArticleContext = React.createContext()\r\n\r\nconst ArticleProvider = props => {\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [searchInArticles, setSearchInArticles] = useState(true)\r\n  const [searchInSources, setSearchInSources] = useState(false)\r\n\r\n  const [source, setSource] = useState('')\r\n  const [language, setLanguage] = useState('en')\r\n  const [sortBy, setSortBy] = useState('publishedAt')\r\n  const [page, setPage] = useState(1)\r\n  const [lastPage, setLastPage] = useState(1)\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [hasErrored, setHasErrored] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const [articles, setArticles] = useState([])\r\n\r\n  const usePrevious = value => {\r\n    const ref = useRef()\r\n    useEffect(() => {\r\n      ref.current = value\r\n    })\r\n    return ref.current\r\n  }\r\n\r\n  const prevState = usePrevious({\r\n    searchValue,\r\n    searchInArticles,\r\n    searchInSources,\r\n  })\r\n\r\n  const {\r\n    searchInArticles: prevSearchInArticles,\r\n    searchInSources: prevSearchInSources,\r\n    searchValue: prevSearchValue,\r\n  } = prevState === undefined ? [] : prevState\r\n\r\n  const fetchArticle = async url => {\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      const articleData = await fetch(url)\r\n      const {\r\n        status,\r\n        totalResults,\r\n        articles,\r\n        message,\r\n      } = await articleData.json()\r\n      if (status === 'ok') {\r\n        setLastPage(Math.ceil(totalResults / PAGE_SIZE))\r\n        setArticles(articles)\r\n      } else {\r\n        setHasErrored(true)\r\n        setErrorMessage(message)\r\n      }\r\n    } catch (e) {\r\n      if (e) {\r\n        setHasErrored(true)\r\n        setErrorMessage(e.message)\r\n      }\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const endpoint =\r\n      !searchInArticles || searchValue.trim() === ''\r\n        ? 'top-headlines'\r\n        : 'everything'\r\n    const url = new URL(`${API}${endpoint}`),\r\n      params = {\r\n        q: searchInArticles ? searchValue : '',\r\n        sources: source,\r\n        language,\r\n        sortBy,\r\n        apiKey: API_KEY,\r\n        pageSize: PAGE_SIZE,\r\n        page,\r\n      }\r\n    Object.keys(params).forEach(key =>\r\n      url.searchParams.append(key, params[key])\r\n    )\r\n\r\n    if (\r\n      prevSearchInArticles !== undefined &&\r\n      prevSearchValue !== undefined &&\r\n      ((searchValue === '' && prevSearchInArticles !== searchInArticles) ||\r\n        (!searchInArticles && prevSearchValue !== searchValue) ||\r\n        prevSearchInSources !== searchInSources)\r\n    ) {\r\n      return\r\n    }\r\n    fetchArticle(url)\r\n  }, [\r\n    searchValue,\r\n    source,\r\n    language,\r\n    sortBy,\r\n    page,\r\n    searchInArticles,\r\n    searchInSources,\r\n    prevSearchInArticles,\r\n    prevSearchInSources,\r\n    prevSearchValue,\r\n  ])\r\n\r\n  return (\r\n    <ArticleContext.Provider\r\n      value={{\r\n        sortBy,\r\n        page,\r\n        lastPage,\r\n        isLoading,\r\n        hasErrored,\r\n        errorMessage,\r\n        articles,\r\n        searchInArticles,\r\n        searchInSources,\r\n        setSortBy,\r\n        language,\r\n        searchValue,\r\n        setPage,\r\n        setSearchValue,\r\n        setSource,\r\n        setLanguage,\r\n        setSearchInArticles,\r\n        setSearchInSources,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </ArticleContext.Provider>\r\n  )\r\n}\r\nconst ArticleConsumer = ArticleContext.Consumer\r\nexport { ArticleProvider, ArticleConsumer, ArticleContext }\r\n","import React, { useContext, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ArticleContext } from '../../context/ArticleContext'\r\nimport { WAIT_INTERVAL } from '../../constants'\r\nimport './Search.css'\r\n\r\nconst Search = () => {\r\n  const appContext = useContext(ArticleContext)\r\n  const { setSearchValue } = appContext\r\n  const searchInputRef = useRef(null)\r\n  let timer = null\r\n\r\n  const handleChange = event => {\r\n    clearTimeout(timer)\r\n    const searchValue = event.target.value\r\n    timer = setTimeout(() => {\r\n      setSearchValue(searchValue)\r\n    }, WAIT_INTERVAL)\r\n  }\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault()\r\n    clearTimeout(timer)\r\n    setSearchValue(searchInputRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <section className=\"search\" role=\"search\">\r\n      <form onSubmit={onSubmit}>\r\n        <fieldset>\r\n          <label htmlFor=\"search\" className=\"search__label\">\r\n            <i className=\"material-icons search__icon\">search</i>\r\n            <input\r\n              ref={searchInputRef}\r\n              type=\"search\"\r\n              placeholder=\"Search...\"\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n        </fieldset>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nSearch.propTypes = {\r\n  setSearchValue: PropTypes.func,\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport Search from './Search'\r\nimport './Header.css'\r\n\r\nconst Header = () => {\r\n  const currentDate = new Date().toLocaleDateString()\r\n  return (\r\n    <header className=\"header\">\r\n      <aside>\r\n        <h1 className=\"header__title\">News</h1>\r\n        <time dateTime={currentDate}>{currentDate}</time>\r\n      </aside>\r\n      <Search />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, { useContext } from 'react'\r\nimport { ArticleContext } from '../context/ArticleContext'\r\nimport './Toolbar.css'\r\n\r\nconst Toolbar = () => {\r\n  const appContext = useContext(ArticleContext)\r\n  const {\r\n    hasErrored,\r\n    searchInArticles,\r\n    searchInSources,\r\n    setSortBy,\r\n    setLanguage,\r\n    setSearchInArticles,\r\n    setSearchInSources,\r\n  } = appContext\r\n\r\n  const optionsSortBy = [\r\n    { key: 0, text: 'Latest', value: 'publishedAt' },\r\n    { key: 1, text: 'Top', value: 'relevancy' },\r\n    { key: 2, text: 'Popular', value: 'popularity' },\r\n  ]\r\n\r\n  const optionsLanguage = [\r\n    { key: 0, text: 'English', value: 'en' },\r\n    { key: 1, text: 'العربية', value: 'ar' },\r\n    { key: 2, text: 'Deutsch', value: 'de' },\r\n    { key: 3, text: 'Español', value: 'es' },\r\n    { key: 4, text: 'Français', value: 'fr' },\r\n    { key: 5, text: 'עברית', value: 'he' },\r\n    { key: 6, text: 'Italiano', value: 'it' },\r\n    { key: 7, text: 'Nederlands', value: 'nl' },\r\n    { key: 8, text: 'Norsk', value: 'no' },\r\n    { key: 9, text: 'Português', value: 'pt' },\r\n    { key: 10, text: 'Русский', value: 'ru' },\r\n    { key: 11, text: 'Davvisámegiella', value: 'se' },\r\n    { key: 13, text: '中文', value: 'zh' },\r\n  ]\r\n\r\n  if (hasErrored) return null\r\n\r\n  return (\r\n    <section className=\"toolbar\">\r\n      <div className=\"toolbar__item\">\r\n        <label>Search by:</label>\r\n        <div className=\"toolbar__item__checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={searchInArticles}\r\n            name=\"search_by\"\r\n            value=\"Articles\"\r\n            onChange={event => {\r\n              setSearchInArticles(event.target.checked)\r\n            }}\r\n          />\r\n          <span>articles</span>\r\n        </div>\r\n        <div className=\"toolbar__item__checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={searchInSources}\r\n            name=\"search_by\"\r\n            value=\"Sources\"\r\n            onChange={event => {\r\n              setSearchInSources(event.target.checked)\r\n            }}\r\n          />\r\n          <span>sources</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"toolbar__item\">\r\n        <label htmlFor=\"sortBy-select\">Sort by:</label>\r\n        <select\r\n          name=\"sortBy\"\r\n          onChange={event => {\r\n            const { value } = event.target\r\n            setSortBy(value)\r\n          }}\r\n        >\r\n          {optionsSortBy.map(item => (\r\n            <option key={item.key} value={item.value}>\r\n              {item.text}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"toolbar__item\">\r\n        <label htmlFor=\"language-select\">Language:</label>\r\n        <select\r\n          name=\"language\"\r\n          onChange={event => {\r\n            const { value } = event.target\r\n            setLanguage(value)\r\n          }}\r\n        >\r\n          {optionsLanguage.map(item => (\r\n            <option key={item.key} value={item.value}>\r\n              {item.text}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Toolbar\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './Article.css'\r\n\r\nconst Article = ({ article }) => {\r\n  const date = new Date(article.publishedAt)\r\n  return (\r\n    <article className=\"article\">\r\n      <h3 className=\"article__title\">\r\n        <a href={article.url}>{article.title}</a>\r\n      </h3>\r\n      {article.description && (\r\n        <summary className=\"article__description\">\r\n          <p>{article.description}</p>\r\n          {(article.author || article.publishedAt) && (\r\n            <mark>\r\n              {article.author && (\r\n                <span className=\"article__author\">{article.author}</span>\r\n              )}\r\n              {article.publishedAt && <time>{date.toLocaleString()}</time>}\r\n            </mark>\r\n          )}\r\n        </summary>\r\n      )}\r\n      {article.content && <p className=\"article__content\">{article.content}</p>}\r\n      {article.urlToImage && (\r\n        <figure className=\"article__figure\">\r\n          <img src={article.urlToImage} alt=\"\" />\r\n        </figure>\r\n      )}\r\n    </article>\r\n  )\r\n}\r\n\r\nArticle.propTypes = {\r\n  article: PropTypes.object,\r\n}\r\n\r\nexport default Article\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Article from './Article'\r\n\r\nconst ArticleList = ({ articles }) => {\r\n  return (\r\n    <Fragment>\r\n      {articles.map(article => (\r\n        <Article\r\n          key={`${article.url}_${article.publishedAt}_${article.source.name}`}\r\n          article={article}\r\n        />\r\n      ))}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nArticleList.propTypes = {\r\n  articles: PropTypes.array,\r\n}\r\n\r\nexport default ArticleList\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './Pagination.css'\r\n\r\nconst Pagination = ({\r\n  page,\r\n  pageSize,\r\n  lastPage,\r\n  setPage,\r\n  className,\r\n  scrollToTop,\r\n}) => {\r\n  return (\r\n    <div className={`pagination ${className}`}>\r\n      <span>{`${pageSize} per page`}</span>\r\n      <input\r\n        className=\"pagination__input\"\r\n        type=\"number\"\r\n        min=\"1\"\r\n        max={lastPage}\r\n        value={page}\r\n        onChange={event => {\r\n          const value = event.target.value\r\n          setPage(value > lastPage ? lastPage : value < 1 ? 1 : value)\r\n        }}\r\n      />\r\n      <span>{`/ ${lastPage}`}</span>\r\n      <span className=\"pagination__buttons\">\r\n        <button\r\n          className=\"pagination__button-left\"\r\n          onClick={() => {\r\n            setPage(parseInt(page) - 1)\r\n            scrollToTop && window.scrollTo(0, 0)\r\n          }}\r\n          disabled={page < 2}\r\n        >\r\n          &laquo;\r\n        </button>\r\n        <button\r\n          className=\"pagination__button-right\"\r\n          onClick={() => {\r\n            setPage(parseInt(page) + 1)\r\n            scrollToTop && window.scrollTo(0, 0)\r\n          }}\r\n          disabled={page > lastPage - 1}\r\n        >\r\n          &raquo;\r\n        </button>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nPagination.propTypes = {\r\n  page: PropTypes.number,\r\n  pageSize: PropTypes.number,\r\n  lastPage: PropTypes.number,\r\n  setPage: PropTypes.func,\r\n  className: PropTypes.string,\r\n  scrollToTop: PropTypes.bool,\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport './Loader.css'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"lds-ripple\">\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React, { Fragment, useContext } from 'react'\r\nimport ArticleList from '../components/articles/ArticleList'\r\nimport Pagination from '../components/Pagination'\r\nimport Loader from '../components/Loader'\r\nimport { ArticleContext } from '../context/ArticleContext'\r\nimport { PAGE_SIZE } from '../constants'\r\n\r\nconst ArticleContainer = () => {\r\n  const appContext = useContext(ArticleContext)\r\n  const {\r\n    articles,\r\n    page,\r\n    lastPage,\r\n    setPage,\r\n    hasErrored,\r\n    isLoading,\r\n    errorMessage,\r\n  } = appContext\r\n\r\n  return (\r\n    <section>\r\n      {isLoading && <Loader />}\r\n      {hasErrored && (\r\n        <Fragment>\r\n          <p> Sorry an error occured while loading the articles. </p>\r\n          <p> {`${errorMessage}`} </p>\r\n        </Fragment>\r\n      )}\r\n\r\n      {!isLoading && !hasErrored && (\r\n        <Fragment>\r\n          <ArticleList articles={articles} />\r\n          <Pagination\r\n            className=\"pagination-centered\"\r\n            page={page}\r\n            pageSize={PAGE_SIZE}\r\n            lastPage={lastPage}\r\n            setPage={setPage}\r\n            scrollToTop\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ArticleContainer\r\n","import React, { useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { ArticleContext } from '../../context/ArticleContext'\r\nimport './Source.css'\r\n\r\nconst Source = ({ source: { id, name, description, category } }) => {\r\n  const appContext = useContext(ArticleContext)\r\n  const { setSource } = appContext\r\n\r\n  const onSourceClick = e => {\r\n    e.preventDefault()\r\n    setSource(id)\r\n  }\r\n\r\n  return (\r\n    <div className=\"source\" onClick={onSourceClick}>\r\n      <h3>{name}</h3>\r\n      <span className=\"source__category\">{category}</span>\r\n      <p>{description}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nSource.propTypes = {\r\n  source: PropTypes.object,\r\n}\r\n\r\nexport default Source\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Source from './Source'\r\n\r\nconst SourceList = ({ sources }) => {\r\n  return (\r\n    <Fragment>\r\n      {sources.map(source => (\r\n        <Source\r\n          key={`${source.id}_${source.name}_${source.language}`}\r\n          source={source}\r\n        />\r\n      ))}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nSourceList.propTypes = {\r\n  sources: PropTypes.array,\r\n}\r\n\r\nexport default SourceList\r\n","import React, { Fragment, useState, useEffect, useContext } from 'react'\r\nimport SourceList from '../components/sources/SourceList'\r\nimport Pagination from '../components/Pagination'\r\nimport Loader from '../components/Loader'\r\nimport { ArticleContext } from '../context/ArticleContext'\r\nimport { API, API_KEY } from '../constants'\r\nimport './SourceContainer.css'\r\n\r\nconst SOURCE_PAGE_SIZE = 8\r\n\r\nconst SourceContainer = () => {\r\n  const appContext = useContext(ArticleContext)\r\n  const {\r\n    language,\r\n    searchValue,\r\n    isLoading,\r\n    hasErrored,\r\n    searchInSources,\r\n  } = appContext\r\n  const [sources, setSources] = useState([])\r\n  const [page, setPage] = useState(1)\r\n  const [lastPage, setLastPage] = useState(1)\r\n  const [searchResults, setSearchResults] = useState([])\r\n\r\n  const [sourceIsLoading, setSourceIsLoading] = useState(false)\r\n  const [sourceHasErrored, setSourceHasErrored] = useState(false)\r\n  const [sourceErrorMessage, setSourceErrorMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    const fetchSources = async () => {\r\n      setSourceIsLoading(true)\r\n      const url = new URL(`${API}sources`),\r\n        params = {\r\n          apiKey: API_KEY,\r\n          language,\r\n        }\r\n      Object.keys(params).forEach(key =>\r\n        url.searchParams.append(key, params[key])\r\n      )\r\n      try {\r\n        const sourcesData = await fetch(url)\r\n        const { sources } = await sourcesData.json()\r\n        setSources(sources)\r\n        setLastPage(Math.ceil(sources.length / SOURCE_PAGE_SIZE))\r\n      } catch (e) {\r\n        if (e) {\r\n          setSourceHasErrored(true)\r\n          setSourceErrorMessage(e.message)\r\n        }\r\n      } finally {\r\n        setSourceIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchSources()\r\n  }, [language])\r\n\r\n  useEffect(() => {\r\n    const onSearchSources = () => {\r\n      if (searchValue.length > 0) {\r\n        let searchResults = sources.filter(\r\n          item =>\r\n            item.id.indexOf(searchValue) > -1 ||\r\n            item.name.indexOf(searchValue) > -1 ||\r\n            item.category.indexOf(searchValue) > -1 ||\r\n            item.description.indexOf(searchValue) > -1\r\n        )\r\n        setSearchResults(searchResults)\r\n        setLastPage(Math.ceil(searchResults.length / SOURCE_PAGE_SIZE))\r\n      } else {\r\n        setSearchResults([])\r\n        setLastPage(Math.ceil(sources.length / SOURCE_PAGE_SIZE))\r\n      }\r\n    }\r\n\r\n    if (searchInSources) onSearchSources()\r\n  }, [searchValue, sources, searchInSources])\r\n\r\n  const sourcesList =\r\n    searchValue !== undefined && searchValue.length > 0 && searchInSources\r\n      ? searchResults\r\n      : sources\r\n\r\n  return (\r\n    <aside className=\"sourceContainer\">\r\n      {!isLoading && sourceIsLoading && <Loader />}\r\n      {!hasErrored && sourceHasErrored && (\r\n        <Fragment>\r\n          <p> Sorry an error occured while loading the sources. </p>\r\n          <p> {`${sourceErrorMessage}`} </p>\r\n        </Fragment>\r\n      )}\r\n      {!sourceIsLoading && !sourceHasErrored && (\r\n        <Fragment>\r\n          <Pagination\r\n            className=\"pagination-centered\"\r\n            page={page}\r\n            pageSize={SOURCE_PAGE_SIZE}\r\n            lastPage={lastPage}\r\n            setPage={setPage}\r\n          />\r\n          <div className=\"sourceList\">\r\n            <SourceList\r\n              sources={\r\n                sourcesList !== undefined\r\n                  ? sourcesList.slice(\r\n                      (page - 1) * SOURCE_PAGE_SIZE,\r\n                      (page - 1) * SOURCE_PAGE_SIZE + SOURCE_PAGE_SIZE\r\n                    )\r\n                  : []\r\n              }\r\n            />\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default SourceContainer\r\n","import React from 'react'\r\nimport './Footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <a href=\"mailto:al.sherko@gmail.com\">Contact us</a>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { Fragment } from 'react'\r\nimport Header from './header/Header'\r\nimport Toolbar from './Toolbar'\r\nimport ArticleContainer from '../container/ArticleContainer'\r\nimport SourceContainer from '../container/SourceContainer'\r\nimport Footer from './Footer'\r\nimport { ArticleProvider } from '../context/ArticleContext'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  return (\r\n    <Fragment>\r\n      <ArticleProvider>\r\n        <Header />\r\n        <main className=\"main\">\r\n          <Toolbar />\r\n          <ArticleContainer />\r\n          <SourceContainer />\r\n        </main>\r\n      </ArticleProvider>\r\n      <Footer />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n"],"sourceRoot":""}